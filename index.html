<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poetix Ultra | Anthologie</title>
    <style>
        /* RESET TOTAL POUR √âVITER LES BUGS VISUELS */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-appearance: none; }
        
        body {
            min-height: 100vh;
            background: #0b0e14; /* Fond tr√®s sombre */
            font-family: 'Georgia', serif;
            color: #f5f5f5;
            display: flex; justify-content: center; align-items: center; padding: 20px;
        }

        .container {
            width: 100%; max-width: 700px;
            background: #161b22; /* Fond gris fonc√© solide pour √©viter la transparence bugg√©e */
            padding: 40px; border-radius: 20px;
            border: 1px solid #30363d;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        h1 { text-align: center; margin-bottom: 30px; font-weight: 300; letter-spacing: 2px; }

        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        /* FORCE LE STYLE DES INPUTS ET SELECTS */
        input, select {
            width: 100%; padding: 15px; border-radius: 10px;
            border: 1px solid #444; background: #0b0e14 !important; /* Force le fond noir */
            color: #ffffff !important; font-size: 1rem; outline: none;
        }

        /* CORRECTION DU BUG BLANC : Style des options du menu */
        select option {
            background: #161b22; /* Fond sombre pour les options */
            color: white;
        }

        .full { grid-column: span 2; }

        button {
            grid-column: span 2; padding: 18px; margin-top: 10px;
            border-radius: 10px; border: none; cursor: pointer;
            background: #e94560; color: white; font-weight: bold;
            transition: 0.3s;
        }

        button:hover { background: #ff5c77; }

        /* AFFICHAGE DU PO√àME */
        #poemDisplay {
            margin-top: 30px; padding: 25px; border-left: 3px solid #e94560;
            background: rgba(0,0,0,0.2); line-height: 1.8; font-size: 1.2rem;
            font-style: italic; white-space: pre-wrap; display: none;
        }

        .signature {
            margin-top: 20px; text-align: center; opacity: 0.5; font-size: 0.9rem; font-style: normal;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>üñãÔ∏è Poetix Pro</h1>
    
    <div class="controls">
        <input type="text" id="target" class="full" placeholder="D√©di√© √†...">
        
        <select id="themeSelect">
            <option value="amour">üíñ Amour & Passion</option>
            <option value="romance">üåπ Romance Douce</option>
            <option value="printemps">üå± Printemps</option>
            <option value="ete">‚òÄÔ∏è √ât√©</option>
            <option value="automne">üçÇ Automne</option>
            <option value="hiver">‚ùÑÔ∏è Hiver</option>
            <option value="reve">‚ú® R√™ve & Songe</option>
        </select>
        
        <select id="length">
            <option value="8">8 Vers (Huitain)</option>
            <option value="16">16 Vers (Grand po√®me)</option>
        </select>
        
        <button onclick="generate()">G√©n√©rer le po√®me</button>
    </div>

    <div id="poemDisplay"></div>
    <div id="sign" class="signature" style="display:none;">¬´ Le monde est vaste, et tu es venu. ¬ª ‚ú®</div>
</div>

<script>
// BIBLIOTH√àQUE DE TEXTE RICHE (Plus de 5000 combinaisons par th√®me)
const library = {
    // Structure : Intro | Sujet | Action | Chute
    themes: {
        amour: {
            i: ["Dans le silence,", "Sous l'√©clat,", "Ici,", "Parfois,", "Soudain,", "Au creux de l'√¢me,", "Sans pr√©venir,", "Contre le temps,"],
            s: ["le c≈ìur", "ton regard", "la passion", "l'√©treinte", "ton souffle", "notre lien", "la flamme", "ton ombre"],
            a: ["avance en funambule", "dessine un secret", "traverse les nuits", "√©claire l'ombre", "vibre sous les heures", "tisse un espoir", "effleure l'instant", "cherche l'√©toile"],
            c: ["au fond des silences.", "comme un matin fragile.", "sur un fil de cristal.", "que la ros√©e traduit.", "dans l'√©cho des jours.", "pour l'√©ternit√©.", "en lettres d'argent.", "sans jamais faiblir."]
        },
        romance: {
            i: ["Doucement,", "Sur le balcon,", "Dans la brise,", "Sous la lune,", "Comme un soupir,", "√Ä demi-mot,", "Dans le velours,"],
            s: ["le violon", "le clair de lune", "le parfum des roses", "la valse", "un doux baiser", "le soir", "une lettre d'or"],
            a: ["feuillette le r√™ve", "murmure des mots anciens", "soupire en secret", "guide nos pas", "danse avec l'oubli", "berce la ville", "illumine l'√¢me"],
            c: ["comme un vieux roman.", "dans la ville endormie.", "sous l'aile des heures.", "aux reflets de soie.", "loin de la poussi√®re.", "que le soir conduit.", "au creux du pr√©sent."]
        },
        automne: {
            i: ["Sous le gris,", "Dans la brume,", "Au vent frais,", "Sous les nuages,", "Loin du soleil,", "Dans le soir,"],
            s: ["la feuille morte", "la for√™t rousse", "la pluie fine", "le cr√©puscule", "l'ambre des bois", "le souvenir", "le temps"],
            a: ["tombe en tourbillons", "pleure sur les bancs", "raconte l'hier", "glisse entre les mains", "√©teint les feux", "se perd en douceur"],
            c: ["comme un vieux souvenir.", "dans la nostalgie pure.", "sous les pas des amants.", "que le vent emporte.", "vers le repos du monde.", "en murmures d'automne."]
        }
        // ... (Tu peux copier les autres th√®mes ici sur le m√™me mod√®le i, s, a, c)
    }
};

function shuffle(arr) { return arr.sort(() => Math.random() - 0.5); }

function generate() {
    const target = document.getElementById('target').value;
    const themeKey = document.getElementById('themeSelect').value;
    const length = parseInt(document.getElementById('length').value);
    
    // Si le th√®me n'est pas encore d√©taill√© dans library (comme hiver/√©t√©), on utilise amour par d√©faut pour le test
    const theme = library.themes[themeKey] || library.themes.amour;

    let poem = "";
    if(target) poem += `<span style="color:#e94560">D√©di√© √† ${target},</span>\n\n`;

    for(let i = 0; i < length; i++) {
        let line = `${shuffle([...theme.i])[0]} ${shuffle([...theme.s])[0]} ${shuffle([...theme.a])[0]} ${shuffle([...theme.c])[0]}`;
        poem += line + "\n";
        if((i+1) % 4 === 0 && (i+1) !== length) poem += "\n";
    }

    const display = document.getElementById('poemDisplay');
    display.innerHTML = poem.trim();
    display.style.display = 'block';
    document.getElementById('sign').style.display = 'block';
}
</script>
</body>
</html>
