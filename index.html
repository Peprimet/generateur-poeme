<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>G√©n√©rateur de Po√®mes</title>

<style>
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: Georgia, serif;
  background: #121212;
  color: #f5f5f5;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

/* ===== √âCRAN DE BIENVENUE ===== */
#welcome {
  position: fixed;
  inset: 0;
  background: #121212;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  z-index: 10;
  animation: fadeOut 1.2s ease forwards;
  animation-delay: 3.5s;
}

#welcome h1 {
  font-size: 42px;
  margin-bottom: 15px;
  animation: slideUp 1s ease;
}

#welcome p {
  font-size: 18px;
  opacity: 0.9;
  animation: slideUp 1.4s ease;
}

#welcome a {
  margin-top: 10px;
  color: #e94560;
  text-decoration: none;
  font-weight: bold;
}

@keyframes fadeOut {
  to {
    opacity: 0;
    visibility: hidden;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(25px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* ===== APP ===== */
.container {
  text-align: center;
  padding: 40px;
  max-width: 800px;
  width: 90%;
  background: rgba(255,255,255,0.08);
  border-radius: 18px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.4);
}

h2 {
  margin-bottom: 20px;
}

select, button {
  padding: 12px 18px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
  margin: 10px;
}

button {
  background-color: #e94560;
  color: white;
  cursor: pointer;
}

button:disabled {
  background-color: #555;
  cursor: not-allowed;
}

#cooldown {
  font-size: 14px;
  margin-top: 10px;
  opacity: 0.8;
}

#poemes {
  margin-top: 30px;
}

.poeme {
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(255,255,255,0.2);
  white-space: pre-line;
  font-size: 18px;
  line-height: 1.6;
}
</style>
</head>

<body>

<!-- √âCRAN DE BIENVENUE -->
<div id="welcome">
  <h1>‚ú® Bienvenue</h1>
  <p>Sur le G√©n√©rateur de Po√®mes</p>
  <a href="https://www.youtube.com/@PePrimeTKai" target="_blank">
    Cr√©√© par PePrimeTKai
  </a>
</div>

<!-- APPLICATION -->
<div class="container">
  <h2>üìù G√©n√©rateur de Po√®mes</h2>

  <select id="theme">
    <option value="romance">Romance</option>
    <option value="amour">Amour</option>
    <option value="nature">Nature</option>
    <option value="aventure">Aventure</option>
  </select>
  <br>

  <button id="btn" onclick="generatePoem()">G√©n√©rer un po√®me</button>

  <div id="cooldown"></div>
  <div id="poemes"></div>
</div>

<script>
const poems = {
  romance: [
`Rien n‚Äôest press√©.
On se comprend
sans trop parler.`,
`Je reste l√†.
M√™me quand le temps passe.`,
`Il y a cette douceur
qui ne s‚Äôexplique pas.`,
`Je ne cherche rien de plus.`,
`Les silences sont paisibles.`
  ],
  amour: [
`Aimer,
c‚Äôest choisir encore.`,
`Je pense √† toi
sans y penser.`,
`Tout est simple.`,
`Je te garde en moi.`,
`C‚Äôest vrai.
C‚Äôest calme.`
  ],
  nature: [
`Le vent passe.
Je respire.`,
`Le monde ralentit.`,
`Tout est √† sa place.`,
`Je marche sans but.`,
`Le silence m‚Äôapaise.`
  ],
  aventure: [
`Je choisis d‚Äôavancer.`,
`Le chemin s‚Äôouvre.`,
`Je quitte l‚Äôimmobile.`,
`L‚Äôinconnu m‚Äôappelle.`,
`Je continue.`
  ]
};

const COOLDOWN = 5;
let lastClick = 0;
let interval = null;

const history = { romance: [], amour: [], nature: [], aventure: [] };
const MAX_HISTORY = 5;

function generatePoem() {
  const now = Date.now();
  if ((now - lastClick) / 1000 < COOLDOWN) return;
  lastClick = now;
  startCooldown();

  const theme = document.getElementById("theme").value;
  const list = poems[theme];
  let poem, tries = 0;

  do {
    poem = list[Math.floor(Math.random() * list.length)];
    tries++;
  } while (history[theme].includes(poem) && tries < 10);

  history[theme].push(poem);
  if (history[theme].length > MAX_HISTORY) history[theme].shift();

  const div = document.createElement("div");
  div.className = "poeme";
  div.textContent = poem;
  document.getElementById("poemes").prepend(div);
}

function startCooldown() {
  const btn = document.getElementById("btn");
  const cd = document.getElementById("cooldown");
  let time = COOLDOWN;

  btn.disabled = true;
  cd.textContent = `‚è≥ Prochain po√®me dans ${time}s`;

  clearInterval(interval);
  interval = setInterval(() => {
    time--;
    if (time <= 0) {
      clearInterval(interval);
      btn.disabled = false;
      cd.textContent = "‚úÖ Tu peux g√©n√©rer un nouveau po√®me";
    } else {
      cd.textContent = `‚è≥ Prochain po√®me dans ${time}s`;
    }
  }, 1000);
}
</script>

</body>
</html>
