<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>G√©n√©rateur de Po√®mes</title>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Georgia', serif;
      color: #f5f5f5;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Arri√®re-plan dynamique */
    #background {
      position: fixed;
      inset: 0;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      z-index: -2;
      transition: background-image 1s ease-in-out;
    }

    /* Assombrissement pour lisibilit√© */
    #background::after {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.55);
      z-index: -1;
    }

    .container {
      text-align: center;
      padding: 40px;
      max-width: 750px;
      width: 90%;
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(6px);
      border-radius: 18px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    }

    h1 {
      margin-bottom: 20px;
    }

    select, button {
      padding: 10px 16px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      margin: 10px;
      cursor: pointer;
    }

    select {
      background: #ffffff;
      color: #000;
    }

    button {
      background-color: #e94560;
      color: white;
      transition: transform 0.2s ease, background 0.2s ease;
    }

    button:hover {
      background-color: #ff5c77;
      transform: scale(1.05);
    }

    #poeme {
      margin-top: 30px;
      padding: 25px;
      background: rgba(255, 255, 255, 0.15);
      border-radius: 12px;
      white-space: pre-line;
      font-size: 18px;
      line-height: 1.6;
    }
  </style>
</head>

<body>

  <div id="background"></div>

  <div class="container">
    <h1>üìù G√©n√©rateur de Po√®mes</h1>

    <label for="theme">Choisis un th√®me :</label><br>
    <select id="theme">
      <option value="romance">Romance</option>
      <option value="amour">Amour</option>
      <option value="nature">Nature</option>
      <option value="aventure">Aventure</option>
    </select>
    <br>

    <button onclick="generatePoem()">G√©n√©rer un po√®me</button>

    <div id="poeme"></div>
  </div>

<script>
/* =========================
   BANQUE DE PO√àMES (√âLARGIE)
   ========================= */

const poems = {
  romance: [
`Je ne sais pas quand tout a ralenti.
Mais certaines pr√©sences
changent la fa√ßon
dont le temps passe.`,

`Il n‚Äôy a rien d‚Äôexag√©r√© ici.
Juste une douceur stable
qui s‚Äôinstalle
sans pr√©venir.`,

`Je n‚Äôattends rien de particulier.
Je suis simplement l√†,
dans ce moment
qui compte.`,

`Certains instants restent.
M√™me quand le reste dispara√Æt.
Sans bruit.
Sans effort.`,

`Je remarque les d√©tails.
Les silences.
Les choses simples
qui font du bien.`,

`Je ne cherche pas √† comprendre.
Je laisse faire.
Et √ßa suffit
pour aujourd‚Äôhui.`,

`Tout semble plus calme.
Comme si le monde
avait ralenti
juste un peu.`,

`Je n‚Äôai rien √† prouver.
Je reste.
Et c‚Äôest d√©j√† beaucoup.`
  ],

  amour: [
`Je pense √† toi sans raison pr√©cise.
C‚Äôest devenu naturel,
presque √©vident.`,

`Aimer n‚Äôa rien de spectaculaire.
C‚Äôest stable.
Pr√©sent.
Sinc√®re.`,

`Je ne pose plus de questions.
Je ressens,
et je respecte
ce que √ßa devient.`,

`Il n‚Äôy a rien √† d√©fendre.
Rien √† expliquer.
Juste continuer
dans ce sens.`,

`Je garde cette sensation,
m√™me quand tout change autour.`,

`Je fais confiance √† ce lien.
Pas parce qu‚Äôil est parfait,
mais parce qu‚Äôil est vrai.`,

`Certaines choses existent
sans avoir besoin de mots.`,

`Je ne cours plus.
Je reste.
Et c‚Äôest un choix.`
  ],

  nature: [
`Le monde avance
sans m‚Äôattendre.
Et c‚Äôest apaisant.`,

`Je marche sans objectif.
Le paysage d√©cide
pour moi.`,

`Le silence n‚Äôest jamais vide.
Il contient
tout ce qui est simple.`,

`Le vent passe.
Je ne cherche pas
√† le retenir.`,

`Rien ne presse ici.
M√™me mes pens√©es
se calment.`,

`Je prends le temps
de ne rien faire.
Et √ßa suffit.`,

`Le ciel ne promet rien.
Mais il apaise
quand m√™me.`,

`Je me sens √† ma place.
Sans raison particuli√®re.
Juste ici.`
  ],

  aventure: [
`Je ne sais pas exactement
o√π je vais.
Mais rester immobile
n‚Äôest plus une option.`,

`Chaque pas m‚Äô√©loigne
de ce que je connais.
Et √ßa me va.`,

`Je fais confiance
au mouvement,
m√™me sans plan.`,

`L‚Äôinconnu n‚Äôest plus un mur.
C‚Äôest une direction
possible.`,

`Je continue.
Pas par certitude.
Par envie.`,

`Je laisse derri√®re moi
ce qui p√®se
et j‚Äôavance.`,

`Je choisis d‚Äôessayer.
M√™me sans garantie.`,

`Le chemin se cr√©e
au moment o√π
je marche.`
  ]
};

/* =========================
   COOLDOWN & ANTI-R√âP√âTITION
   ========================= */

const COOLDOWN = 5000; // 5 secondes
let lastTime = 0;

// m√©morise les derniers po√®mes par th√®me
const history = {
  romance: [],
  amour: [],
  nature: [],
  aventure: []
};

const MAX_HISTORY = 5;

/* =========================
   FONCTION PRINCIPALE
   ========================= */

function generatePoem() {
  const now = Date.now();

  // bloque si clic trop rapide
  if (now - lastTime < COOLDOWN) {
    return;
  }
  lastTime = now;

  const theme = document.getElementById("theme").value;
  const list = poems[theme];

  let poem;
  let tries = 0;

  // √©vite les r√©p√©titions r√©centes
  do {
    poem = list[Math.floor(Math.random() * list.length)];
    tries++;
  } while (history[theme].includes(poem) && tries < 10);

  // met √† jour l'historique
  history[theme].push(poem);
  if (history[theme].length > MAX_HISTORY) {
    history[theme].shift();
  }

  // cr√©ation du bloc po√®me
  const bloc = document.createElement("div");
  bloc.style.marginBottom = "30px";
  bloc.style.paddingBottom = "20px";
  bloc.style.borderBottom = "1px solid rgba(255,255,255,0.2)";
  bloc.innerText = poem;

  document.getElementById("poeme").prepend(bloc);
}
</script>
</body>
</html>
