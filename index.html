<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>G√©n√©rateur de Po√®mes</title>

<style>
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: Georgia, serif;
  background: #121212;
  color: #f5f5f5;
  display: flex;
  justify-content: center;
  align-items: center;
}

.container {
  text-align: center;
  padding: 40px;
  max-width: 800px;
  width: 90%;
  background: rgba(255,255,255,0.08);
  border-radius: 18px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.4);
}

h1 {
  margin-bottom: 20px;
}

select, button {
  padding: 12px 18px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
  margin: 10px;
}

select {
  cursor: pointer;
}

button {
  background-color: #e94560;
  color: white;
  cursor: pointer;
}

button:disabled {
  background-color: #555;
  cursor: not-allowed;
}

#cooldown {
  margin-top: 10px;
  font-size: 14px;
  opacity: 0.8;
}

#poemes {
  margin-top: 30px;
}

.poeme {
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(255,255,255,0.2);
  white-space: pre-line;
  font-size: 18px;
  line-height: 1.6;
}
</style>
</head>

<body>

<div class="container">
  <h1>üìù G√©n√©rateur de Po√®mes</h1>

  <select id="theme">
    <option value="romance">Romance</option>
    <option value="amour">Amour</option>
    <option value="nature">Nature</option>
    <option value="aventure">Aventure</option>
  </select>
  <br>

  <button id="btn" onclick="generatePoem()">G√©n√©rer un po√®me</button>

  <div id="cooldown"></div>

  <div id="poemes"></div>
</div>

<script>
/* ===============================
   BANQUE DE PO√àMES
   =============================== */

const poems = {
  romance: [
`Rien n‚Äôest press√©.
On se comprend
sans trop parler.`,

`Il y a une douceur
qui reste
quand tout s‚Äôarr√™te.`,

`Je ne cherche pas plus.
Ce moment suffit.`,

`Les silences
ne sont plus vides.`,

`Je reste l√†.
C‚Äôest d√©j√† beaucoup.`,

`Tout devient simple
quand tu es l√†.`,

`Je n‚Äôexplique rien.
Je ressens.`,
  ],

  amour: [
`Aimer,
c‚Äôest rester
quand on pourrait partir.`,

`Je pense √† toi
sans raison pr√©cise.`,

`Rien n‚Äôest spectaculaire.
Tout est sinc√®re.`,

`Je te choisis
sans r√©fl√©chir.`,

`Je garde ce lien
en moi.`,

`C‚Äôest calme.
C‚Äôest vrai.`,

`Je suis l√†.
Encore.`,
  ],

  nature: [
`Le vent passe.
Je l‚Äô√©coute.`,

`Le monde continue
sans me presser.`,

`Le silence
fait du bien.`,

`Je marche
sans destination.`,

`Tout respire ici.`,

`Rien n‚Äôattend.
Tout existe.`,

`Je prends le temps.`,
  ],

  aventure: [
`Je ne sais pas
o√π je vais.`,

`Avancer suffit.`,

`Le chemin se cr√©e
en marchant.`,

`Je quitte le connu.`,

`Je continue
par envie.`,

`L‚Äôinconnu m‚Äôattire.`,

`Je choisis le mouvement.`,
  ]
};

/* ===============================
   LOGIQUE COOLDOWN
   =============================== */

const COOLDOWN = 5;
let lastClick = 0;
let interval = null;

// historique anti-r√©p√©tition
const history = {
  romance: [],
  amour: [],
  nature: [],
  aventure: []
};

const MAX_HISTORY = 5;

function generatePoem() {
  const now = Date.now();
  if ((now - lastClick) / 1000 < COOLDOWN) return;

  lastClick = now;
  startCooldown();

  const theme = document.getElementById("theme").value;
  const list = poems[theme];

  let poem;
  let attempts = 0;

  do {
    poem = list[Math.floor(Math.random() * list.length)];
    attempts++;
  } while (history[theme].includes(poem) && attempts < 10);

  history[theme].push(poem);
  if (history[theme].length > MAX_HISTORY) {
    history[theme].shift();
  }

  const div = document.createElement("div");
  div.className = "poeme";
  div.textContent = poem;

  document.getElementById("poemes").prepend(div);
}

/* ===============================
   COMPTE √Ä REBOURS VISUEL
   =============================== */

function startCooldown() {
  const btn = document.getElementById("btn");
  const cd = document.getElementById("cooldown");
  let remaining = COOLDOWN;

  btn.disabled = true;
  cd.textContent = `‚è≥ Prochain po√®me dans ${remaining}s`;

  clearInterval(interval);
  interval = setInterval(() => {
    remaining--;

    if (remaining <= 0) {
      clearInterval(interval);
      btn.disabled = false;
      cd.textContent = "‚úÖ Tu peux g√©n√©rer un nouveau po√®me";
    } else {
      cd.textContent = `‚è≥ Prochain po√®me dans ${remaining}s`;
    }
  }, 1000);
}
</script>

</body>
</html>
