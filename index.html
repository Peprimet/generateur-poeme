<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poetix | Les Saisons du C≈ìur</title>
    <style>
        :root { --primary: #e94560; --bg: #0f1220; --text: #f5f5f5; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            min-height: 100vh;
            background: var(--bg);
            font-family: 'Georgia', serif;
            color: var(--text);
            display: flex; justify-content: center; align-items: center; padding: 20px;
        }

        .container {
            width: 100%; max-width: 650px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 40px; border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            text-align: center;
        }

        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 25px 0; }
        
        input, select {
            padding: 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.1); color: white; font-size: 1rem; outline: none;
        }

        button {
            padding: 15px; border-radius: 12px; border: none; font-size: 1.1rem;
            background: linear-gradient(45deg, #e94560, #ff7a90);
            color: white; cursor: pointer; font-weight: bold; transition: 0.4s;
            grid-column: span 2;
        }

        button:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(233, 69, 96, 0.4); }

        #poemDisplay {
            margin-top: 30px; padding: 30px; background: rgba(255,255,255,0.03);
            border-radius: 20px; border-left: 4px solid var(--primary);
            line-height: 1.8; font-size: 1.25rem; text-align: left;
            white-space: pre-wrap; display: none; animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .dedicace { color: var(--primary); font-weight: bold; margin-bottom: 15px; display: block; }
    </style>
</head>
<body>

<div class="container">
    <h1>üñãÔ∏è Poetix</h1>
    <p style="opacity: 0.7; margin-top: 10px;">L'√©l√©gance des saisons et des mots</p>

    <div class="controls">
        <input type="text" id="target" style="grid-column: span 2;" placeholder="Nom du destinataire (optionnel)">
        
        <select id="themeSelect"></select>
        
        <select id="length">
            <option value="4">4 Vers (Quatrain)</option>
            <option value="8">8 Vers (Huitain)</option>
        </select>
        
        <button onclick="generate()">Invoquer la Muse</button>
    </div>

    <div id="poemDisplay"></div>
</div>

<script>
const library = {
    themes: {
        amour: ["le c≈ìur", "la passion", "ton regard", "la flamme", "l'√©treinte", "ton souffle", "le lien", "ton √¢me"],
        romance: ["les p√©tales", "la douce lettre", "le clair de lune", "le rendez-vous", "le parfum des roses", "un violon", "la valse", "un secret"],
        printemps: ["le bourgeon", "l'hirondelle", "la ros√©e", "la jeune fleur", "le r√©veil vert", "le z√©phyr", "le jardin", "la clart√©"],
        √©t√©: ["le soleil d'or", "le bl√© m√ªr", "la chaleur", "le ciel azur", "le chant des cigales", "le sable chaud", "le z√©nith", "l'√©clat"],
        automne: ["la feuille morte", "la brume", "l'ambre", "la pluie fine", "le vent frais", "la for√™t rousse", "le cr√©puscule", "le soir"],
        hiver: ["le givre", "la neige pure", "le cristal", "le froid", "la bise", "le manteau blanc", "le feu de bois", "la glace"],
        nature: ["la rivi√®re", "la for√™t", "le vent sauvage", "la montagne", "l'aurore", "le ch√™ne", "la fleur s√®che", "le val"],
        nostalgie: ["le pass√©", "le vieux banc", "le souvenir", "l'enfance", "le temps", "la photo", "l'instant perdu", "l'hier"],
        reve: ["le songe", "le nuage", "l'horizon", "le miroir", "le vol libre", "l'imaginaire", "l'ombre", "l'onirisme"]
    },
    starters: ["Dans la paix de", "Sous l'√©clat de", "Comme un √©cho √†", "Soudain,", "Parfois,", "Malgr√©", "Au creux de", "Sans un bruit,"],
    connectors: ["s'√©veille devant", "dessine", "r√©v√®le", "emporte", "berce doucement", "embrase", "illumine", "efface"],
    endings: ["l'infini.", "un souvenir.", "le destin.", "la clart√©.", "l'√©ternit√©.", "un soupir.", "la vie.", "le monde."]
};

const select = document.getElementById('themeSelect');
Object.keys(library.themes).forEach(t => {
    let opt = document.createElement('option');
    opt.value = t;
    opt.innerHTML = t.charAt(0).toUpperCase() + t.slice(1);
    select.appendChild(opt);
});

function shuffle(arr) { return arr.sort(() => Math.random() - 0.5); }

function generate() {
    const target = document.getElementById('target').value;
    const theme = document.getElementById('themeSelect').value;
    const length = parseInt(document.getElementById('length').value);
    
    let words = shuffle([...library.themes[theme]]);
    let starts = shuffle([...library.starters]);
    let connects = shuffle([...library.connectors]);
    let ends = shuffle([...library.endings]);

    let poem = "";
    if(target) poem += `<span class="dedicace">Pour ${target},</span>`;

    for(let i = 0; i < length; i++) {
        let w = words[i % words.length];
        let s = starts[i % starts.length];
        let c = connects[i % connects.length];
        let e = ends[i % ends.length];
        poem += `${s} ${w} ${c} ${e}\n`;
        if((i+1) % 4 === 0) poem += "\n";
    }

    const display = document.getElementById('poemDisplay');
    display.innerHTML = poem.trim();
    display.style.display = 'block';
}
</script>

</body>
</html>
